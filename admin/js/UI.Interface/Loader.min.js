function WATPreloader(){this.defaultParams={width:320,height:80,message:"Please wait..."},this.start=function(e){this.defaultParams=jQuery.extend({},this.defaultParams,e),jQuery("#preloader_container").remove(),jQuery("body *:first",document).before('<div id="preloader_container" style="position:fixed; z-index:999998; display:none;"><div class="preloader"></div><div style="position:fixed; background: #000;"><div id="preloader_table" align="center" style="font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#FFF; padding:10px;">'+this.defaultParams.message+'<br><br><img src="'+WATJSInterface.localpath+'admin/images/loading_animation.gif" /></div></div></div>');var t=jQuery("#preloader_container"),i=jQuery("#preloader_table",t),a=jQuery(".preloader",t),n=this.defaultParams.width,r=this.defaultParams.height;i.width(n-20),i.height(r-20),i.parent().width(n),i.parent().height(r),a.width(n),a.height(r),a.parent().width(n),a.parent().height(r);var s=-n/2+"px",o=-r/2+"px";t.css({top:"50%",left:"50%","margin-left":s,"margin-top":o}).fadeIn(500),t.css({top:"50%",left:"50%","margin-left":s,"margin-top":o}).fadeIn(500)},this.update=function(e){var t=jQuery("#preloader_container");jQuery("#preloader_table",t).get(0).rows[0].cells[0].innerHTML=e},this.remove=function(e){null!=jQuery("#loading_container")&&jQuery("#loading_container").remove(),null==e&&(e=100);var t=jQuery("#preloader_container");t.stop(),t.fadeOut({duration:e},function(){t.remove()})}}function WATMessage(){var e=this;this.defaultParams={width:450,time:8e3,speed:500,delay:500,message:"",closeFunction:null},this.parentContainer,this.container,this.view=function(t){this.defaultParams=jQuery.extend({},this.defaultParams,t);var i=jQuery('div[id="watMessageBox"]',this.parentContainer).get().length,a='<div id="watMessageBox" class="loader" style="display:none;">';a+='<div id="watBoxTable" align="left" style="background: #fefcd4;">',a+='<div style="float:right; height:15px; padding-right:5px; padding-top:5px"><img id="watCloseMsg" src="'+WATJSInterface.localpath+'admin/images/btn_close_msg.png" border="0" style="cursor:pointer" /></div>',a+='<div align="center" style="font-family:Arial, Helvetica, sans-serif; font-size:12px; color:#000; padding:15px;">'+this.defaultParams.message+"</div>",a+="</div>",a+="</div>",a+='<div style="height:5px;"></div>',jQuery(this.parentContainer).append(a),this.container=jQuery('div[id="watMessageBox"]:eq('+i+")",this.parentContainer);var n=jQuery("#watBoxTable",this.container),r=jQuery("#watCloseMsg",n),s=this.defaultParams.width;n.width(s),n.parent().width(s),this.container.delay(this.defaultParams.delay).slideDown(this.defaultParams.speed),this.container.unbind("countTimer"),this.container.bind("countTimer",function(){e.defaultParams.time/1e3-1>=1?e.defaultParams.time-=1e3:(jQuery(this).unbind("countTimer"),clearInterval(jQuery(this).data("timerInterval")),jQuery(this).removeData("timerInterval"),e.remove(),"function"==typeof e.defaultParams.closeFunction&&e.defaultParams.closeFunction())}),this.container.data("timerInterval",setInterval(function(){e.container.trigger("countTimer")},1e3)),r.unbind("click"),r.bind("click",function(){jQuery(this).unbind("click"),e.remove()})},this.remove=function(){e.container.slideUp(e.defaultParams.speed,function(){var e=jQuery(this).next();jQuery(this).remove(),e.slideUp(200,function(){jQuery(this).remove()})})}}function WATLoader(){this.arr_messages=[],this.init=function(){jQuery("#wat_messages_container").remove(),jQuery(jQuery("body").get(0)).append('<div align="center" id="wat_messages_container" style="position:fixed; z-index:999999; width: 100%; display:block; top: 5px; margin: 0 auto;"></div>');jQuery("#wat_messages_container")},this.display=function(e){var t=jQuery("#wat_messages_container"),i=new WATMessage;i.parentContainer=t,this.arr_messages.push(i),i.view(e)}}